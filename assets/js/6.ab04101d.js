(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{357:function(e,s,a){"use strict";a.r(s);var t=a(25),r=Object(t.a)({},(function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"使用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用命令"}},[e._v("#")]),e._v(" 使用命令")]),e._v(" "),a("p",[e._v("在一个 Cheers-mp-cli 创建的项目中，"),a("code",[e._v("cheers-mp-service")]),e._v(" 安装了一个名为 "),a("code",[e._v("cheers-mp-service")]),e._v(" 的命令。你可以在 npm scripts 中以 "),a("code",[e._v("cheers-mp-service")]),e._v("、或者从终端中以 "),a("code",[e._v("./node_modules/.bin/cheers-mp-service")]),e._v(" 访问这个命令。")]),e._v(" "),a("p",[e._v("这是你使用默认 preset 的项目的 "),a("code",[e._v("package.json")]),e._v("：")]),e._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"serve"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"cheers-mp-service serve --open"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"cheers-mp-service build"')]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("p",[e._v("你可以通过 npm 或 Yarn 调用这些 script：")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run serve\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# OR")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" serve\n")])])]),a("p",[e._v("如果你可以使用 "),a("a",{attrs:{href:"https://github.com/npm/npx",target:"_blank",rel:"noopener noreferrer"}},[e._v("npx"),a("OutboundLink")],1),e._v(" (最新版的 npm 应该已经自带)，也可以直接这样调用命令：")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("npx cheers-mp-service serve --open\n")])])]),a("h2",{attrs:{id:"约定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#约定"}},[e._v("#")]),e._v(" 约定")]),e._v(" "),a("p",[e._v("在开始具体命令之前，以 "),a("code",[e._v("cheers-mp-service serve --open")]),e._v(" 这条完整的命令为例，我们做一个称呼上的约定：")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("cheers-mp-service")]),e._v(" 是脚手架提供的服务")]),e._v(" "),a("li",[a("code",[e._v("serve")]),e._v(" 是一条具体的命令，命令名字叫 "),a("code",[e._v("serve")])]),e._v(" "),a("li",[a("code",[e._v("--open")]),e._v(" 是这条命令的 "),a("code",[e._v("参数")]),e._v(" 或者 "),a("code",[e._v("选项")]),e._v("，可同时使用多个 "),a("code",[e._v("选项")])]),e._v(" "),a("li",[a("code",[e._v("参数")]),e._v(" 或者 "),a("code",[e._v("选项")]),e._v(" 后面可能需要传值也可能不需要，具体取决命令本身是否有默认值")])]),e._v(" "),a("h2",{attrs:{id:"cheers-mp-service-serve"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cheers-mp-service-serve"}},[e._v("#")]),e._v(" cheers-mp-service serve")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("用法：cheers-mp-service serve [选项] [选项值]\n示例：cheers-mp-service serve --mode uat --open\n\n选项：\n\n  --mode    指定环境模式 (默认值：development)\n  --open    编译后自动在开发者工具中打开项目(仅compiler.type为hard时生效)\n")])])]),a("p",[a("code",[e._v("cheers-mp-service serve")]),e._v(" 命令会打开监听模式， 监听项目中被修改的文件然后重新编译该文件；如果你启用了 "),a("code",[e._v("oss")]),e._v(" 配置，则会额外启动一个图片服务器，用于代理项目中用到的图片资源。")]),e._v(" "),a("h2",{attrs:{id:"cheers-mp-service-build"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cheers-mp-service-build"}},[e._v("#")]),e._v(" cheers-mp-service build")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("用法：cheers-mp-service build [选项] [选项值]\n\n选项：\n\n  --mode    指定 env 文件模式 (默认: production)\n  --clean   是否每次编译前先清空处理掉输出目录(默认: true)\n  --watch   开启监听模式,默认关闭\n  --upload  编译结束后是否自动调用开发者工具上传，上传的小程序可在后台设置为体验版，默认关闭\n")])])]),a("p",[a("code",[e._v("cheers-mp-service build")]),e._v(" 会在 "),a("code",[e._v("dist/")]),e._v(" 目录产生一个可用于生产环境的包，带有 JS/CSS/WXML 的压缩和 "),a("code",[e._v("sourceMap")]),e._v("。")]),e._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[e._v("注意")]),e._v(" "),a("p",[e._v("无论是 "),a("code",[e._v("serve")]),e._v(" 还是 "),a("code",[e._v("build")]),e._v(" 命令， 都不会将你的 js 编译成 es5， 也不会将你的 css 编译成兼容更低版本的样式。\n所以，你的开发者工具要勾选上 "),a("code",[e._v("es6转es5")]),e._v("、"),a("code",[e._v("增强编译")]),e._v("、"),a("code",[e._v("上传时补全样式")])])]),e._v(" "),a("h2",{attrs:{id:"查看所有的可用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看所有的可用命令"}},[e._v("#")]),e._v(" 查看所有的可用命令")]),e._v(" "),a("p",[e._v("你可以运行以下命令查看所有注入的命令：")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("npx vue-cli-service "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("help")]),e._v("\n")])])]),a("p",[e._v("你也可以这样学习每个命令可用的选项：")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("npx vue-cli-service "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("help")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("command"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n")])])]),a("p",[e._v("例如执行下面命令：")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("npx vue-cli-service "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("help")]),e._v(" serve\n")])])]),a("p",[e._v("将会输出：")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("  使用: cheers-mp-cli-service build "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("entry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n\n  具体选项:\n\n    --mode    指定 "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("env")]),e._v(" 文件模式 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("默认: development"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n    --clean   是否每次编译前先清空处理掉输出目录"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("默认: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n    --watch   开启监听模式,默认关闭\n    --upload  编译结束后是否自动调用开发者工具上传，上传的小程序可在后台设置为体验版，默认关闭\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);